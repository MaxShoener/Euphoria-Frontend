<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Euphoria</title>
  <style>
    body { margin:0; font-family: sans-serif; background:#f0f0f0; }
    header { background:#6200ee; color:white; padding:10px; text-align:center; font-size:24px; }
    #controls { display:flex; padding:10px; gap:5px; background:white; }
    #controls input { flex:1; padding:5px; font-size:16px; }
    #controls button { padding:5px 10px; font-size:16px; }
    #nav { display:flex; padding:5px; gap:5px; background:#eee; }
    iframe { width:100%; height:calc(100vh - 100px); border:none; }
  </style>
</head>
<body>
  <header>Euphoria</header>
  <div id="controls">
    <input id="urlInput" type="text" placeholder="Enter URL or search term">
    <button id="goBtn">Go</button>
  </div>
  <div id="nav">
    <button id="backBtn">Back</button>
    <button id="forwardBtn">Forward</button>
    <button id="reloadBtn">Reload</button>
  </div>
  <iframe id="browserFrame" src=""></iframe>

  <script>
    const input = document.getElementById('urlInput');
    const goBtn = document.getElementById('goBtn');
    const iframe = document.getElementById('browserFrame');

    function navigate(url) {
      if (!url.includes('://')) {
        // Treat as search
        url = 'https://www.google.com/search?q=' + encodeURIComponent(url);
      }
      iframe.src = '/proxy?url=' + encodeURIComponent(url);
    }

    goBtn.addEventListener('click', () => navigate(input.value));
    input.addEventListener('keydown', e => { if(e.key==='Enter') navigate(input.value); });

    // Navigation buttons
    document.getElementById('backBtn').addEventListener('click', () => iframe.contentWindow.history.back());
    document.getElementById('forwardBtn').addEventListener('click', () => iframe.contentWindow.history.forward());
    document.getElementById('reloadBtn').addEventListener('click', () => iframe.contentWindow.location.reload());
  </script>
</body>
</html>
