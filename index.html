<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Euphoria Proxy</title>
<style>
  html, body { margin:0; padding:0; background:#000; color:#fff; height:100%; font-family:sans-serif; }
  #topbar {
    display:flex;
    align-items:center;
    padding:10px;
    background:#111;
  }
  #url {
    flex:1;
    padding:5px;
    background:#222;
    color:#fff;
    border:none;
    outline:none;
  }
  button, select {
    margin-left:5px;
    padding:5px 10px;
    background:#222;
    color:#fff;
    border:none;
    cursor:pointer;
  }
  button:hover, select:hover { background:#333; }
  iframe {
    width:100%;
    height:calc(100vh - 50px);
    border:none;
    display:block;
  }
</style>
</head>
<body>

<div id="topbar">
  <input id="url" type="text" placeholder="Enter URL..." />
  <button id="enter">Go</button>
  <select id="engine">
    <option value="ultraviolet">Ultraviolet</option>
    <option value="scramjet">Scramjet</option>
  </select>
  <button id="fullscreen">Fullscreen</button>
</div>

<iframe id="frame"></iframe>

<script>
const BACKEND_URL = "https://ideological-merna-maxshoener-af9383a9.koyeb.app";
const urlInput = document.getElementById('url');
const enterBtn = document.getElementById('enter');
const engineSelect = document.getElementById('engine');
const fullscreenBtn = document.getElementById('fullscreen');
const frame = document.getElementById('frame');

// Go button action
enterBtn.addEventListener('click', () => {
  let url = encodeURIComponent(urlInput.value.trim());
  if (!url) return;
  let engine = engineSelect.value;
  frame.src = `${BACKEND_URL}/proxy?engine=${engine}&url=${url}`;
});

// Enter key support
urlInput.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') enterBtn.click();
});

// Fullscreen toggle
fullscreenBtn.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
});

// Optionally, select engine from backend if needed
engineSelect.addEventListener('change', () => {
  if (frame.src) {
    const url = new URL(frame.src);
    url.searchParams.set('engine', engineSelect.value);
    frame.src = url.toString();
  }
});
</script>

</body>
</html>